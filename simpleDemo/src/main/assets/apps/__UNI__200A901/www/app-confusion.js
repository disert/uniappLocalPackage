(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-confusion"],{"2bc1":function(a,e,p){"use strict";(function(a){var t=p("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.changeStructure=D,e.clearPlayPreloadInfo=P,e.closeLoading=x,e.default=e.createUser=void 0,e.getUserInfo=w,e.jumpAdUrl=I,e.playVideo=C,e.preloadPtah=U,e.realPlayVideo=L,e.showLoading=A;var i=t(p("7037")),o=p("daf2"),n="/pages/video/play",r="/pages/video/playShort",u=function(){var a=uni.getStorageSync("nowDomain_ab");return a||"https://a89327.com"},s=u(),c={appInit:s+"/appapi/appInit/appkey/ab",getVersion:s+"/appapi/getVersion/appkey/ab",homeData:s+"/appapi/homeMain/appkey/ab",videoData:s+"/appapi/videoList/appkey/ab",getAlbum:s+"/appapi/albumInfo/appkey/ab",videoInfo:s+"/appapi/detail/appkey/ab",addCollection:s+"/appapi/addCollection/appkey/ab",videoLike:s+"/appapi/like/appkey/ab",addComment:s+"/appapi/comment/appkey/ab",commentList:s+"/appapi/commentList/appkey/ab",heartBeat:s+"/appapi/heartbeat/appkey/ab",userLogin:s+"/appapi/login/appkey/ab",getConfig:s+"/appapi/getConfig/appkey/ab",userReg:s+"/appapi/register/appkey/ab",getMobileCode:s+"/appapi/getMobileCode/appkey/ab",getInfo:s+"/appapi/getUserInfo/appkey/ab",userSign:s+"/appapi/userSign/appkey/ab",myBalance:s+"/appapi/balance/appkey/ab",getMoney:s+"/appapi/getMoney/appkey/ab",getBank:s+"/appapi/bankLists/appkey/ab",getUserBank:s+"/appapi/userBankList/appkey/ab",setBank:s+"/appapi/setDefaultBank/appkey/ab",delBank:s+"/appapi/delBank/appkey/ab",addBank:s+"/appapi/addBank/appkey/ab",getDeposit:s+"/appapi/depositLog/appkey/ab",getDetailed:s+"/appapi/detailedList/appkey/ab",editInfo:s+"/appapi/editInfo/appkey/ab",upload:s+"/appapi/upload/appkey/ab",getColl:s+"/appapi/collectionList/appkey/ab",delColl:s+"/appapi/deleteCollection/appkey/ab",getWatchLog:s+"/appapi/getWatchLog/appkey/ab",getSvodBuyLog:s+"/appapi/getSvodBuyLog/appkey/ab",delWatchLog:s+"/appapi/delWatchLog/appkey/ab",myShare:s+"/appapi/myShare/appkey/ab",getShareLog:s+"/appapi/shareLog/appkey/ab",changePwd:s+"/appapi/changePwd/appkey/ab",getCharge:s+"/appapi/getChargeData/appkey/ab",getPayList:s+"/appapi/getPayList/appkey/ab",createOrder:s+"/appapi/createOrder/appkey/ab",getAbout:s+"/appapi/getAbout/appkey/ab",getGameList:s+"/appapi/getGameList/appkey/ab",getPrize:s+"/appapi/getPrize/appkey/ab",buyVideo:s+"/appapi/buy/appkey/ab",getHotSearch:s+"/appapi/getHotSearch/appkey/ab",searchVideo:s+"/appapi/searchVideo/appkey/ab",emptySearch:s+"/appapi/emptySearch/appkey/ab",getAd:s+"/appapi/getAd/appkey/ab",getSharePid:s+"/appapi/getSharePid/appkey/ab",uploadImg:s+"/appapi/uploadImg/appkey/ab",getPlazaList:s+"/appapi/communityHomepage/appkey/ab",getComment:s+"/appapi/getPostComment/appkey/ab",getAdInfo:s+"/appapi/getAdInfo/appkey/ab",sendComment:s+"/appapi/sendPostComment/appkey/ab",homePage:s+"/appapi/homePage/appkey/ab",uploadConfig:s+"/appapi/getUploadConfig/appkey/ab",getTopMenu:s+"/appapi/getTopMenu/appkey/ab",getAnchorList:s+"/appapi/getAnchorList/appkey/ab",buyGoldRoom:s+"/appapi/buyGoldRoom/appkey/ab",getUserAnchor:s+"/appapi/getUserIsAnchor/appkey/ab",regAnchor:s+"/appapi/regAnchor/appkey/ab",playerConfig:s+"/appapi/enterTheStudio/appkey/ab",focusAnchor:s+"/appapi/focusOnTheAnchor/appkey/ab",logoutRoom:s+"/appapi/exitTheStudio/appkey/ab",giveAnchor:s+"/appapi/rewardTheAnchor/appkey/ab",liveInitData:s+"/appapi/startLiveBroadcast/appkey/ab",saveRoomData:s+"/appapi/saveRoomData/appkey/ab",roomUploadImg:s+"/appapi/roomUploadImg/appkey/ab",endLivePlayer:s+"/appapi/endLiveBroadcast/appkey/ab",updateSendMs:s+"/appapi/updateSendMs/appkey/ab",anchorOutUser:s+"/appapi/anchorOutUser/appkey/ab",getPicture:s+"/appapi/getPicture/appkey/ab",buyPicture:s+"/appapi/buyPicture/appkey/ab",pictureInfo:s+"/appapi/pictureInfo/appkey/ab",openH5Url:s+"/appapi/openH5Url/appkey/ab",updateTryTime:s+"/appapi/updateTryTime/appkey/ab",getAlbumList:s+"/appapi/getAlbumList/appkey/ab",getUserTeam:s+"/appapi/getUserTeam/appkey/ab",getPlayerLog:s+"/appapi/getPlayerLog/appkey/ab",getPlayerGift:s+"/appapi/getPlayerGift/appkey/ab",getFilterData:s+"/appapi/getFilterData/appkey/ab",getFilters:s+"/appapi/getFilterVideo/appkey/ab",getClassData:s+"/appapi/getClassData/appkey/ab",getClassVideo:s+"/appapi/getClassVideoData/appkey/ab",getTagData:s+"/appapi/getTagData/appkey/ab",getSvodClass:s+"/appapi/getSvodClassData/appkey/ab",getSvodData:s+"/appapi/getSvodClassVideoData/appkey/ab",getSvodMain:s+"/appapi/getSvodMain/appkey/ab",updateFree:s+"/appapi/updateFree/appkey/ab",goldBuyVideo:s+"/appapi/goldBuyVideo/appkey/ab",likeSvodVideo:s+"/appapi/likeSvodVideo/appkey/ab",svodVideoComm:s+"/appapi/svodVideoComment/appkey/ab",sendVideoComm:s+"/appapi/sendVideoComment/appkey/ab",tagSvodVideo:s+"/appapi/tagSvodVideo/appkey/ab",playSvodVideo:s+"/appapi/playSvodVideo/appkey/ab",vipWeekDowns:s+"/appapi/vipWeekDowns/appkey/ab",getPay:s+"/appapi/pay",agreement:s+"/appapi/privacy/type/1",privacy:s+"/appapi/privacy/type/2"},d=function(a){try{return uni.setStorageSync("userInfo_ab",a),uni.setStorageSync("userId",a.userId),!0}catch(e){return!1}},g=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],p=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,i="",o=p;if(e)var n=["0","1","2","3","4","5","6","7","8","9"];else n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];a&&(o=Math.round(Math.random()*(t-p))+p);for(var r=0;r<o;r++){var u=Math.round(Math.random()*(n.length-1));i+=n[u]}return i},l=function(a){if(!a)return!1;var e=a.split("/"),p=e[e.length-1];return p},y=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";uni.showToast({icon:p,title:a,mask:!0,duration:e,image:t})},f=function(a){try{var e=a,p="";return p=e<1048576?(e/1024).toFixed(2):1048576==e?1:e>1048576&&e<1073741824?(e/1048576).toFixed(2):e>1048576&&1073741824==e?"1GB":e>1073741824&&e<1099511627776?(e/1073741824).toFixed(2):"\u6587\u4ef6\u8d85\u8fc71TB",p}catch(t){return!1}},b=function(){var a=uni.getStorageSync("my_did_ab");if(a)return a;var e=g(!1,!1,16,16);return uni.setStorageSync("my_did_ab","H5"+e),e},m=function(e){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"web",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(a("log","jumpUrl:"+e+",type:"+p," at common/api.js:438"),e.includes(n)&&e.includes("%")){var i=e.split("=")[1];i=decodeURIComponent(i).replace(/&quot;/g,'"'),i=JSON.parse(i);var o=n+"?type="+JSON.stringify(i),u=!!e.includes(r);uni.setStorage({key:u?"vidShort":"vid",data:u?i.vidShort:i.vid}),uni.getStorageSync("pre_page_"+n)?h(o,p,t):(A("\u6b63\u5728\u52a0\u8f7d,\u8bf7\u7b49\u5f85..."),uni.$on("loading-finish",(function(){x(),h(o,p,t)})),uni.preloadPage({url:n,success:function(e){a("log","\u9884\u52a0\u8f7d\u6210\u529f:"+n," at common/api.js:461"),uni.setStorageSync("pre_page_"+n,!0)},fail:function(e){x(),a("log","\u9884\u52a0\u8f7d\u5931\u8d25:"+n," at common/api.js:466"),h(o,p,t)}}))}else h(e,p,t)},h=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"web",p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(p){if("#"==a||""==a)return!1;if("back"!=a)switch(e){case"old":uni.reLaunch({url:a});break;case"new":uni.navigateTo({url:k(a)});break;case"tab":uni.switchTab({url:a});break;case"newx":uni.redirectTo({url:k(a)});break;case"app":var t="/pages/jump/index?u="+a;uni.navigateTo({url:t});break;default:plus.runtime.openURL(a)}else{p=parseInt(e)?e:1;uni.navigateBack({delta:p})}}(p)},k=function(e){if(e.startsWith(r)){a("log","path:"+e," at common/api.js:530");var p=e.split("=")[1];return uni.setStorageSync("play_short_video_params",p),uni.setStorageSync("isNewVideo",!0),r}if(e.startsWith(n)){p=e.split("=")[1];return uni.setStorageSync("play_video_params",p),uni.setStorageSync("isNewVideo",!0),n}return e},v=null,S=function(a,e){for(var p=[];e>0;p[--e]=a);return p.join("")},_=function(a){var e=uni.getStorageSync("sharePid_ab"),p=uni.getStorageSync("uuid"),t=function(){var a=0,e=uni.getStorageSync("QueryParams"),p=uni.getSystemInfoSync();return a="pc"==p.deviceType?1:"web"==p.uniPlatform?null!==e&&void 0!==e&&e.webclip?3:4:"android"==p.platform?2:5,a}(),i={url:"appInit",data:{pid:e,did:p,sys:t}};(0,o.http)(i).then((function(e){var p=e.Code,t=e.Data;if(200===p){if(t.domain_video_pic&&t.domain_video_pic!=o.domain.domain_pic&&(o.domain.domain_pic=t.domain_video_pic),t.domain_ad&&t.domain_ad!=o.domain.domain_ad&&(o.domain.domain_ad=t.domain_ad),t.domain_video&&t.domain_video.toString()!=o.domain.domain_video.toString()&&(o.domain.domain_video=t.domain_video),t.domain_api&&t.domain_api.startsWith("http")&&(0,o.updateBaseUrl)(t.domain_api),uni.setStorageSync("domain",o.domain),(0,o.replaceImageUrl)(t),uni.setStorageSync("appInitData",e),1==t.auto){var i={userId:t.user_id,account:t.username,times:t.cactime};uni.getStorage({key:"isAuto_ab",success:function(a){a.data||d(i)},fail:function(){uni.setStorage({key:"isAuto_ab",data:!1}),d(i)}})}else uni.removeStorage({key:"isAuto_"+api.appkey,success:function(a){}});a(e)}}))};function w(){var a=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},p=uni.getStorageSync("uuid"),t={url:"getUserInfo/did/"+p};return new Promise((function(p,i){(0,o.http)(t).then((function(t){200==t.Code&&(a.$store.commit("set_mbrMemberInfo",t.Data),uni.setStorageSync("mbrMemberInfo",t.Data),e(),p(t.Data))}))}))}function I(a,e){m(a,0==e?"new":"web")}function C(e,p){var t=2===p?r:n;uni.getStorageSync("pre_page_"+t)?L(e,p):(A("\u6b63\u5728\u52a0\u8f7d,\u8bf7\u7b49\u5f85..."),uni.$on("loading-finish",(function(){x(),L(e,p),uni.$off("loading-finish")})),uni.preloadPage({url:t,success:function(e){a("log","\u9884\u52a0\u8f7d\u6210\u529f:"+t," at common/api.js:954"),uni.setStorageSync("pre_page_"+t,!0)},fail:function(i){x(),a("log","\u9884\u52a0\u8f7d\u5931\u8d25:"+t," at common/api.js:959"),L(e,p),uni.$off("loading-finish")}}))}function P(){uni.setStorageSync("pre_page_"+n,!1),uni.setStorageSync("pre_page_"+r,!1)}function L(a,e){var p=getCurrentPages(),t=p[0],i="";i=t.__page__?t.__page__.fullPath:"/"+t.route,uni.setStorage({key:2===e?"vidShort":"vid",data:a,success:function(){var p={url:i,t:"tab"};2===e?p["vidShort"]=a:p["vid"]=a,m((2===e?r+"?type=":n+"?type=")+JSON.stringify(p),"new")},fail:function(){y("\u64ad\u653e\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u662f\u5426\u6b63\u5e38")}})}function D(e){if(a("log","arr:"+!e+","+(e instanceof Array)+","+(0,i.default)(e)," at common/api.js:1013"),!e)return[];var p=[];return e.forEach((function(a,t){if(t%2!=1){var i=t===e.length-1?[e[t]]:[e[t],e[t+1]];p.push(i)}})),p}function U(e){var p=(new Date).getTime();uni.preloadPage({url:e,success:function(t){a("log","\u9884\u52a0\u8f7d\u6210\u529f\u8017\u65f6:"+((new Date).getTime()-p)+"\u6beb\u79d2:"+e," at common/api.js:1038")},fail:function(t){a("log","\u9884\u52a0\u8f7d\u5931\u8d25\u8017\u65f6:"+((new Date).getTime()-p)+"\u6beb\u79d2:"+e+","+JSON.stringify(t)," at common/api.js:1041")}})}function A(a){plus.nativeUI.showWaiting(a,{width:"190px",height:"120px",style:"white",color:"#000000",size:"18px",background:"#FFFFFF",loading:{icon:"/static/imgs/home_loading.png",width:"32px",height:"32px"}})}function x(){plus.nativeUI.closeWaiting()}e.createUser=_;var M={showLoading:A,closeLoading:x,clearPlayPreloadInfo:P,preloadPtah:U,changeStructure:D,playVideo:C,jumpAdUrl:I,appkey:"ab",apiUrl:"https://a89327.com",apiData:c,getLogins:function(){try{var a=uni.getStorageSync("userInfo_ab");return!!(a&&Object.keys(a).length>0)&&a}catch(e){return!1}},setLogins:d,delLogins:function(){try{return uni.removeStorageSync("userInfo_ab"),!0}catch(a){return!1}},randomWord:g,imgCache:function(a,e){var p=l(a)+"ab",t=uni.getStorageSync(p);t?(plus.io.resolveLocalFileSystemURL(t,(function(a){a.file((function(a){}))}),(function(a){uni.removeStorageSync(p)})),e(t)):(e(a),uni.downloadFile({url:a,success:function(a){200==a.statusCode&&uni.saveFile({tempFilePath:a.tempFilePath,success:function(a){var e=a.savedFilePath;uni.setStorageSync(p,e)}})}}))},splitUrl:l,showToast:y,getFileSize:f,getWebDomain:u,getMobileDid:function(e){var p=uni.getSystemInfoSync(),t=p.deviceId;if(t.length>0){t=t.split("|").filter((function(a){return a&&a.trim()}));e(t[t.length-1])}else plus.device.getInfo({success:function(e){if("android"==p.platform){var i=e.uuid.split(",");t=i[0]}else t=e.uuid;a("log","success-------",t," at common/api.js:385")},fail:function(a){t=b()},complete:function(p){e(t),a("log","complete-------",t," at common/api.js:392")}})},outApp:function(){switch(uni.getSystemInfoSync().platform){case"android":plus.runtime.quit();break;case"ios":plus.ios.import("UIApplication").sharedApplication().performSelector("exit");break}},jumpUrl:m,copy:function(a){var e=a+"";uni.setClipboardData({data:e,success:function(){y("\u590d\u5236\u6210\u529f",2e3)}})},createView:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50px",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0.3",p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";v=new plus.nativeObj.View("bg",{bottom:"0px",left:"0px",height:a,width:"100%",opacity:e,backgroundColor:"rgba(0,0,0,1)"}),""!=p&&v.drawText(p,{widht:"100%",height:"100%"},{size:"18px",color:"#fff"}),v.show()},closeView:function(){v.close()},callUp:function(a){uni.makePhoneCall({phoneNumber:a+"",fail:function(){api.showToast("\u64cd\u4f5c\u5931\u8d25",2e3)}})},getContacts:function(a){plus.contacts.getAddressBook(plus.contacts.ADDRESSBOOK_PHONE,(function(e){e.find(["displayName","phoneNumbers"],(function(e){a(e)}),(function(){a(!1)}),{multiple:!0})}),(function(e){a(!1)}))},formatSeconds:function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,p=parseInt(a),t=Math.floor(p/3600)<10?"0"+Math.floor(p/3600):Math.floor(p/3600),i=Math.floor(p/60%60)<10?"0"+Math.floor(p/60%60):Math.floor(p/60%60),o=Math.floor(p%60)<10?"0"+Math.floor(p%60):Math.floor(p%60),n="";return 1==e?(n+="".concat(t,":"),n+="".concat(i,":"),n+="".concat(o)):(n+="".concat(t,"\u65f6"),n+="".concat(i,"\u5206"),n+="".concat(o,"\u79d2")),n},nowUrl:s,getWebFileSize:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,p=0;a.length<1?e(p):uni.request({url:a,method:"HEAD",success:function(a){200==a.statusCode&&(p=f(a.header["Content-Length"]))},complete:function(){e(p)}})},isH5:function(){return{type:"app",ver:0}},sprintf:function(){var a,e,p,t,o,n=0,r=arguments[n++],u=[],s="";while(r){if(e=/^[^\x25]+/.exec(r))u.push(e[0]);else if(e=/^\x25{2}/.exec(r))u.push("%");else{if(!(e=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(r)))throw"Huh ?!";if(null==(a=arguments[e[1]||n++])||void 0==a)throw"Too few arguments.";if(/[^s]/.test(e[7])&&"number"!=typeof a)throw"Expecting number but found "+(0,i.default)(a);switch(e[7]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a);break;case"e":a=e[6]?a.toExponential(e[6]):a.toExponential();break;case"f":a=e[6]?parseFloat(a).toFixed(e[6]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&e[6]?a.substring(0,e[6]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase();break}a=/[def]/.test(e[7])&&e[2]&&a>=0?"+"+a:a,t=e[3]?"0"==e[3]?"0":e[3].charAt(1):" ",o=e[5]-String(a).length-s.length,p=e[5]?S(t,o):"",u.push(s+(e[4]?a+p:p+a))}r=r.substring(e[0].length)}return u.join("")},throttle:function(a,e){var p=e||500,t=null;return function(){t||(t=setTimeout((function(){a.apply(this,arguments),t=null}),p))}},createUser:_,getUserInfo:w};e.default=M}).call(this,p("0de9")["default"])}}]);